# Neyroon Bot - Telegram –±–æ—Ç –¥–ª—è –∫—É—Ä—Å–æ–≤ —Ä–∏—Å–æ–≤–∞–Ω–∏—è

Telegram –±–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–æ–≤ –ø–æ —Ä–∏—Å–æ–≤–∞–Ω–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π –ø–æ–¥–ø–∏—Å–æ–∫, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º–∏ —É—Ä–æ–∫–∞–º–∏ –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ (–Ω–æ–≤–∏—á–∫–∏/–æ–ø—ã—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- ‚úÖ 10 —É—Ä–æ–∫–æ–≤ (–≤–≤–æ–¥–Ω—ã–π, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π, 8 –ø—Ä–µ–º–∏—É–º —É—Ä–æ–∫–æ–≤)
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ —É—Ä–æ–∫–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∏—Å—É–Ω–∫–æ–≤ —É—á–µ–Ω–∏–∫–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π (Kaspi, Prodamus)
- ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —Å API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- ‚úÖ –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π (soft delete)
- ‚úÖ –ú–Ω–æ–≥–æ–≤–∞–ª—é—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ CI/CD - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub Actions

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend**: Node.js + TypeScript
- **Bot Framework**: Grammy
- **Database**: PostgreSQL + Prisma ORM
- **Admin Panel**: Express.js REST API
- **Scheduler**: node-cron
- **Payments**: Kaspi.kz, Prodamus

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –¢–æ–ª—å–∫–æ Docker Desktop
- Windows: https://www.docker.com/products/docker-desktop/
- Mac/Linux: https://docs.docker.com/get-docker/

**–ó–∞–ø—É—Å–∫:**

```bash
# Windows
start.bat

# Linux/Mac
./start.sh
```

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º 1 (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞) –∏ –≤—Å—ë –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [DOCKER_GUIDE.md](DOCKER_GUIDE.md)

---

### üîß –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–±–µ–∑ Docker)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Node.js 18+
- PostgreSQL 14+
- npm –∏–ª–∏ yarn

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

```bash
cd neyroon-bot
npm install
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# Telegram Bot
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather

# Database
DATABASE_URL="postgresql://username:password@localhost:5432/neyroon_bot?schema=public"

# Payment Systems
KASPI_MERCHANT_ID=–≤–∞—à_merchant_id
KASPI_MERCHANT_SECRET=–≤–∞—à_merchant_secret
PRODAMUS_API_KEY=–≤–∞—à_prodamus_api_key
PRODAMUS_SECRET_KEY=–≤–∞—à_prodamus_secret_key
PRODAMUS_PROJECT_ID=–≤–∞—à_project_id

# Subscription Settings
SUBSCRIPTION_PRICE=4000
SUBSCRIPTION_CURRENCY=KZT
SUBSCRIPTION_DURATION_DAYS=30

# Admin Panel
ADMIN_PORT=3000
ADMIN_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
JWT_SECRET=–≤–∞—à_jwt_—Å–µ–∫—Ä–µ—Ç

# File Storage
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760

# Scheduler
TIMEZONE=Asia/Almaty
DEFAULT_LESSON_TIME=10:00
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL:

```bash
createdb neyroon_bot
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma:

```bash
npm run prisma:generate
npm run prisma:migrate
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
npm run dev
```

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```bash
npm run build
npm start
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
neyroon-bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ admin/              # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (Express API)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.ts
‚îÇ   ‚îú‚îÄ‚îÄ bot/                # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards.ts    # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages.ts     # –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ prisma.ts
‚îÇ   ‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lessonService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ drawingService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ paymentService.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schedulerService.ts
‚îÇ   ‚îú‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ index.ts            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma       # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ uploads/                # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ drawings/
‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å)

–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000 (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`).

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```
Authorization: Bearer –≤–∞—à_ADMIN_SECRET
```

### Endpoints

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```http
GET /api/stats
```

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –ø–ª–∞—Ç–µ–∂–∞–º –∏ —Ä–∏—Å—É–Ω–∫–∞–º.

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

```http
GET /api/users
GET /api/users/:telegramId
```

#### –£—Ä–æ–∫–∏

```http
GET /api/lessons
GET /api/lessons/:lessonNumber
PUT /api/lessons/:lessonNumber
```

–ü—Ä–∏–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—Ä–æ–∫–∞:

```json
{
  "title": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞",
  "description": "–ù–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "previewVideoUrl": "https://youtube.com/...",
  "fullVideoUrl": "https://youtube.com/...",
  "practiceText": "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ"
}
```

#### –†–∏—Å—É–Ω–∫–∏

```http
GET /api/drawings?page=1&limit=20
GET /api/drawings/uncommented
POST /api/drawings/:id/comment
```

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:

```json
{
  "comment": "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞...",
  "commentedBy": "admin"
}
```

#### –ü–ª–∞—Ç–µ–∂–∏

```http
GET /api/payments/active
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Ä–æ–∫–∞

–ö–∞–∂–¥—ã–π —É—Ä–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç:

1. **lessonNumber** - –Ω–æ–º–µ—Ä —É—Ä–æ–∫–∞ (0-9)
2. **type** - —Ç–∏–ø —É—Ä–æ–∫–∞ (INTRO, FREE, PREMIUM, FINAL)
3. **title** - –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞
4. **description** - –æ–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞
5. **previewVideoUrl** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ—Ä–æ—Ç–∫–æ–µ –ø—Ä–µ–≤—å—é
6. **fullVideoUrl** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—ã–π —É—Ä–æ–∫
7. **practiceText** - —Ç–µ–∫—Å—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ –≤ —É—Ä–æ–∫–∞—Ö

–í–∏–¥–µ–æ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞:
- YouTube (–ø—É–±–ª–∏—á–Ω—ã–µ –∏–ª–∏ unlisted)
- Google Drive (–ø—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏)
- Vimeo
- –õ—é–±–æ–π –¥—Ä—É–≥–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

–û–±–Ω–æ–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ API:

```bash
curl -X PUT http://localhost:3000/api/lessons/1 \
  -H "Authorization: Bearer –≤–∞—à_ADMIN_SECRET" \
  -H "Content-Type: application/json" \
  -d '{
    "previewVideoUrl": "https://youtube.com/watch?v=...",
    "fullVideoUrl": "https://youtube.com/watch?v=..."
  }'
```

## –†–∞–±–æ—Ç–∞ —Å –ø–ª–∞—Ç–µ–∂–∞–º–∏

### Kaspi.kz (–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω)

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Kaspi.kz:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Kaspi Merchant
2. –ü–æ–ª—É—á–∏—Ç—å Merchant ID –∏ Secret Key
3. –î–æ–±–∞–≤–∏—Ç—å –≤ `.env`
4. –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [KASPI_INTEGRATION.md](KASPI_INTEGRATION.md)

### Prodamus (–†–æ—Å—Å–∏—è + –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω)

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Prodamus:

1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ prodamus.ru
2. –ü–æ–ª—É—á–∏—Ç—å API Key, Secret Key –∏ Project ID
3. –î–æ–±–∞–≤–∏—Ç—å –≤ `.env`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook URL –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
5. –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [PRODAMUS_INTEGRATION.md](PRODAMUS_INTEGRATION.md)

## –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—Ä–æ–∫–æ–≤

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É—Ä–æ–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∏–º–∏ –≤—Ä–µ–º—è.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞. –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
- 08:00
- 10:00
- 12:00
- 14:00
- 16:00
- 18:00
- 20:00

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞
2. –í –ø–µ—Ä–≤—ã–µ 15 –º–∏–Ω—É—Ç –∫–∞–∂–¥–æ–≥–æ —á–∞—Å–∞ –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –¥–æ—Å—Ç—É–ø –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–∫—É
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É—Ä–æ–∫ (–≤–∏–¥–µ–æ + –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ) –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

## –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∏—Å—É–Ω–∫–æ–≤

### –ß–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3000/api/drawings/:drawingId/comment \
  -H "Authorization: Bearer –≤–∞—à_ADMIN_SECRET" \
  -H "Content-Type: application/json" \
  -d '{
    "comment": "–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",
    "commentedBy": "–ò–º—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è"
  }'
```

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Prisma

```bash
# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
npm run prisma:migrate

# –û—Ç–∫—Ä—ã—Ç—å Prisma Studio (GUI –¥–ª—è –ë–î)
npm run prisma:studio

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client
npm run prisma:generate
```

### TypeScript

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
npm start
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [QUICK_DEPLOY.md](QUICK_DEPLOY.md)

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [DEPLOYMENT.md](DEPLOYMENT.md)

**CI/CD (–∞–≤—Ç–æ–¥–µ–ø–ª–æ–π):** [AUTO_DEPLOY_QUICK.md](AUTO_DEPLOY_QUICK.md) | [CI_CD_SETUP.md](CI_CD_SETUP.md)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp neyroon-bot.tar.gz root@your-server-ip:/opt/

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ
ssh root@your-server-ip
cd /opt && tar -xzf neyroon-bot.tar.gz
cd neyroon-bot

# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env
cp .env.production.example .env
nano .env  # –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
chmod +x deploy.sh
sudo ./deploy.sh
```

### –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Docker

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
docker-compose -f docker-compose.prod.yml up -d

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker-compose -f docker-compose.prod.yml ps
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
pm2 logs neyroon-bot

# –°—Ç–∞—Ç—É—Å
pm2 status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart neyroon-bot
```

## Troubleshooting

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `BOT_TOKEN` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs neyroon-bot`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î

### –£—Ä–æ–∫–∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—â–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º.
