name: Test Secrets

on:
  workflow_dispatch:  # Можно запустить вручную

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Test Secrets
        run: |
          echo "Testing if secrets are available..."

          if [ -z "${{ secrets.VPS_HOST }}" ]; then
            echo "❌ VPS_HOST is missing!"
          else
            echo "✅ VPS_HOST is set (length: ${#VPS_HOST})"
          fi

          if [ -z "${{ secrets.VPS_USERNAME }}" ]; then
            echo "❌ VPS_USERNAME is missing!"
          else
            echo "✅ VPS_USERNAME is set"
          fi

          if [ -z "${{ secrets.VPS_PORT }}" ]; then
            echo "❌ VPS_PORT is missing!"
          else
            echo "✅ VPS_PORT is set"
          fi

          if [ -z "${{ secrets.VPS_SSH_KEY }}" ]; then
            echo "❌ VPS_SSH_KEY is missing!"
          else
            echo "✅ VPS_SSH_KEY is set (length: ${#VPS_SSH_KEY})"
          fi
